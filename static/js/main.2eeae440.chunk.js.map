{"version":3,"sources":["constants.js","components/ProductIndex.js","components/Header.js","components/CartItem.js","components/Cart.js","components/ProductDetails.js","components/Checkout.js","components/Login.js","App.js","serviceWorker.js","index.js"],"names":["BASE_URL","module","exports","PRODUCTS_URL","LOGIN_URL","ProductIndex","props","useState","products","setProduct","useEffect","a","axios","get","data","fetchProducts","className","map","product","key","_id","to","src","image","alt","name","brand","price","rating","numReviews","Header","undefined","currentUser","href","onClick","e","onLogout","history","push","cartCount","CartItem","itemName","itemQty","itemImage","removeItem","itemId","Cart","grandTotal","this","cart","forEach","cartItem","qty","toFixed","console","log","localStorage","c","calculateGrandTotal","clearCart","React","Component","cartQty","ProductDetails","state","category","description","addToCart","onAddToCart","match","params","id","then","setState","catch","err","productId","cartProduct","checkCart","status","onChange","parseInt","target","value","cartClick","Checkout","type","placeholder","Login","email","password","handleChange","event","handleSubmit","preventDefault","post","res","onLogin","token","user","error","onSubmit","App","newCart","setItem","JSON","stringify","removeId","cartCopy","index","splice","performLogin","defaults","headers","common","Authorization","performLogout","getItem","parse","path","render","exact","component","Boolean","window","location","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"8HAAA,IAAIA,EAKFA,EAAW,+CAEbC,EAAOC,QAAU,CACfC,aAAcH,EAAW,YACzBI,UAAWJ,EAAW,W,ybCqCTK,MAvCf,SAAuBC,GAAO,MAEOC,mBAAU,IAFjB,mBAElBC,EAFkB,KAERC,EAFQ,KAgB1B,OAZAC,qBAAU,WAOR,OANmB,uCAAG,8BAAAC,EAAA,sEACGC,IAAMC,IAAIV,gBADb,gBACZW,EADY,EACZA,KAERL,EAAWK,GAHS,2CAAH,oDAKnBC,GACO,eAGN,IAEI,wBAAIC,UAAU,YAGnBR,EAASS,KAAI,SAAAC,GAAO,OAElB,wBAAIC,IAAQD,EAAQE,KAClB,yBAAKJ,UAAU,WACb,kBAAC,IAAD,CAAMK,GAAE,UAAK,WAAaH,EAAQE,MAChC,yBAAKJ,UAAU,gBAAgBM,IAAKJ,EAAQK,MAAOC,IAAKN,EAAQO,QAElE,yBAAKT,UAAU,gBACb,kBAAC,IAAD,CAAMK,GAAE,UAAK,WAAaH,EAAQE,MAAQF,EAAQO,OAEpD,yBAAKT,UAAU,iBAAiBE,EAAQQ,OACxC,yBAAKV,UAAU,iBAAf,IAAiCE,EAAQS,OACzC,yBAAKX,UAAU,kBAAkBE,EAAQU,OAAzC,UAAwDV,EAAQW,WAAhE,oB,yBCeGC,MA/Cf,SAAgBxB,GAEZ,OAEI,yBAAKU,UAAU,UAEX,kBAAC,IAAD,CAAMK,GAAG,KACL,yBAAKL,UAAU,cAAcM,IAAI,kBAAkBE,IAAI,wBAE3D,6BACI,uCAGJ,yBAAKR,UAAU,mBAGiBe,IAA3BzB,EAAM0B,YAAYP,KAGjB,8BACE,wCAAcnB,EAAM0B,YAAYP,KAAhC,KAGA,uBAAGQ,KAAK,IAAIC,QAAS,SAACC,GAAO7B,EAAM8B,SAASD,GAAI7B,EAAM+B,QAAQC,KAAK,YAAnE,YAKA,kBAAC,IAAD,CAAMjB,GAAG,UACL,0CAIR,kBAAC,IAAD,CAAMA,GAAG,SACL,yBAAKL,UAAU,wBAEX,kBAAC,IAAD,MAEA,0BAAMA,UAAU,sBAAsBV,EAAMiC,e,MC7BrDC,MAZf,SAAkBlC,GAEd,OACI,yBAAKU,UAAU,YACVV,EAAMmC,SADX,MACwBnC,EAAMoC,QAC1B,6BACA,yBAAKpB,IAAKhB,EAAMqC,UAAW3B,UAAU,qBAAqBQ,IAAI,gBAC9D,4BAAQU,QAAU,kBAAM5B,EAAMsC,WAAWtC,EAAMuC,UAA/C,iBCmDGC,E,oLAjDP,IAAIC,EAAa,EAMjB,OAJAC,KAAK1C,MAAM2C,KAAKC,SAAQ,SAAAC,GACpBJ,GAAcI,EAASjC,QAAQS,MAAQwB,EAASC,OAG7CL,EAAWM,QAAQ,K,kCAI1BC,QAAQC,IAAI,0BAA2BP,KAAK1C,MAAM2C,MAClDO,aAAaZ,WAAW,QACxBI,KAAK1C,MAAM+B,QAAQC,KAAK,O,+BAIlB,IAAD,OACL,OACI,6BACI,yEACA,6BAGQU,KAAK1C,MAAM2C,KAAKhC,KAAI,SAAAwC,GAAC,OACjB,kBAAC,EAAD,CACIhB,SAAUgB,EAAEvC,QAAQO,KACpBoB,OAAQY,EAAEvC,QAAQE,IAClBsB,QAASe,EAAEL,IACXT,UAAWc,EAAEvC,QAAQK,MACrBqB,WAAY,EAAKtC,MAAMsC,gBATvC,gBAckBI,KAAKU,sBACnB,6BACA,yBAAK1C,UAAU,gBACX,kBAAC,IAAD,CAAMK,GAAG,aACL,4BAAQL,UAAU,kBAAlB,QAEJ,4BAAQA,UAAU,gBAAgBkB,QAAS,kBAAM,EAAKyB,cAAtD,qB,GAhDLC,IAAMC,WCErBC,G,MAAU,GAiHCC,E,4MA9GXC,MAAQ,CACJlD,KAAM,CACFW,KAAM,GACNwC,SAAU,GACV1C,MAAO,GACPI,MAAO,GACPD,MAAO,GACPE,OAAQ,GACRC,WAAY,GACZqC,YAAa,IAEjBd,IAAK,G,EAaTe,UAAY,WAGR,EAAK7D,MAAM8D,YAAY,EAAKJ,MAAMlD,KAAM,EAAKkD,MAAMZ,M,kEAblC,IAAD,OAChBxC,IACKC,IADL,UACYV,eADZ,YAC4B6C,KAAK1C,MAAM+D,MAAMC,OAAOC,KAC/CC,MAAK,SAAA1D,GACFwC,QAAQC,IAAIzC,GACZ,EAAK2D,SAAS,CAAE3D,KAAMA,EAAKA,UAE9B4D,OAAM,SAAAC,GAAG,OAAIrB,QAAQC,IAAIoB,Q,kCAW9B,IAAMC,EAAY5B,KAAK1C,MAAM+D,MAAMC,OAAOC,GAC1CvB,KAAK1C,MAAM2C,KAAKC,SAAQ,SAAA2B,GAEpBvB,QAAQC,IAAI,0BAA2BsB,GACnCA,EAAYD,YAAcA,IAC1Bd,GAAWe,EAAYzB,U,kCAM/BJ,KAAKmB,YACLnB,KAAK8B,c,+BAGC,IAAD,OAEL,OACI,yBAAK9D,UAAU,WACX,yBAAKA,UAAU,QACX,kBAAC,IAAD,CAAMK,GAAG,KAAT,SAEJ,yBAAKL,UAAU,WACX,yBAAKA,UAAU,iBACX,yBAAKM,IAAK0B,KAAKgB,MAAMlD,KAAKS,MAAOC,IAAKwB,KAAKgB,MAAMlD,KAAKW,QAE1D,yBAAKT,UAAU,gBACX,4BACI,4BACI,4BAAKgC,KAAKgB,MAAMlD,KAAKW,OAEzB,4BACKuB,KAAKgB,MAAMlD,KAAKc,OADrB,WACqCoB,KAAKgB,MAAMlD,KAAKe,WAAY,IADjE,aAIA,4BACI,2CAAiBmB,KAAKgB,MAAMlD,KAAKa,MAAjC,MAEJ,4BACI,2CACCqB,KAAKgB,MAAMlD,KAAKoD,gBAKjC,yBAAKlD,UAAU,kBACV8C,EAAU,GAAK,gEAAsCA,GACtD,4BACI,sCACW,oCAAUd,KAAKgB,MAAMlD,KAAKa,QAErC,uCAAaqB,KAAKgB,MAAMlD,KAAKiE,QAC7B,mCAEL,IACS,4BACIC,SAAU,SAAA7C,GAAC,OAAI,EAAKsC,SAAS,CAAErB,IAAK6B,SAAS9C,EAAE+C,OAAOC,WAEtD,qCACA,qCACA,qCACA,qCACA,uCAGR,4BAEI,4BAAQnE,UAAU,SAASkB,QAAS,kBAAM,EAAKkD,cAA/C,uB,GApGCxB,IAAMC,W,MCiBpBwB,MAtBf,WACI,OACI,yBAAKrE,UAAU,oBACX,0GACA,0BAAMA,UAAU,eACZ,yBAAKA,UAAU,aACX,2BAAOsE,KAAK,OAAOC,YAAY,SAC/B,2BAAOD,KAAK,OAAOC,YAAY,mBAC/B,2BAAOD,KAAK,OAAOC,YAAY,oBAEnC,+DACA,yBAAKvE,UAAU,aACX,2BAAOsE,KAAK,OAAOC,YAAY,mBAC/B,2BAAOD,KAAK,OAAOC,YAAY,mBAC/B,2BAAOD,KAAK,OAAOC,YAAY,uB,QCmEpCC,G,kNA3EXxB,MAAQ,CACJyB,MAAO,eACPC,SAAU,W,EAIdC,aAAe,SAACC,GACZ,EAAKnB,SAAL,eAEKmB,EAAMV,OAAOzD,KAAMmE,EAAMV,OAAOC,S,EAIzCU,aAAe,SAACD,GACZA,EAAME,iBAENlF,IAAMmF,KAAO3F,YAAW,CACpBqF,MAAO,EAAKzB,MAAMyB,MAClBC,SAAU,EAAK1B,MAAM0B,WAExBlB,MAAK,SAAAwB,GAEF,EAAK1F,MAAM2F,QAAQD,EAAIlF,KAAKoF,MAAOF,EAAIlF,KAAKqF,MAE5C,EAAK7F,MAAM+B,QAAQC,KAAK,QAE3BoC,OAAM,SAAA0B,GAEH9C,QAAQC,IAAI,yDAA0D6C,O,uDAM1E,OACI,yBAAKpF,UAAU,SACf,yBAAKA,UAAU,mBACX,+CAEA,0BAAMqF,SAAUrD,KAAK6C,aAAc7E,UAAU,aACzC,2BACIsE,KAAK,OACL7D,KAAK,QACL8D,YAAc,QACdP,SAAUhC,KAAK2C,eAGnB,2BACIL,KAAK,WACL7D,KAAK,WACL8D,YAAc,WACdP,SAAUhC,KAAK2C,eAGnB,6BACI,4BAAQ3E,UAAU,kBAAlB,WACA,kCACA,4BAAQA,UAAU,kBAAlB,kCAKJ,6BACA,qC,GAlEA4C,IAAMC,YCgIXyC,E,4MAvHbtC,MAAQ,CACNmC,KAAM,GACNlD,KAAM,GACNV,UAAW,G,EAGb4B,UAAY,SAACjD,EAASkC,GAKpB,IAAMmD,EAAO,sBAAQ,EAAKvC,MAAMf,MAAnB,CAAyB,CAAC/B,UAASkC,SAGhD,EAAKqB,SAAS,CAAExB,KAAMsD,EAAShE,UAAW,EAAKyB,MAAMzB,UAAYa,IACjEI,aAAagD,QAAQ,OAAQC,KAAKC,UAAUH,K,EAG9C3D,WAAa,SAAC+D,GACRrD,QAAQC,IAAIoD,GAEZ,IAAMC,EAAQ,YAAO,EAAK5C,MAAMf,MAEhC,EAAKe,MAAMf,KAAKC,SAAS,SAAC2B,EAAagC,GACnCvD,QAAQC,IAAI,0BAA2BsB,GAEnCA,EAAY3D,QAAQE,MAAQuF,IAC5BrD,QAAQC,IAAI,UAAWsB,GAEvB+B,EAASE,OAAOD,EAAO,OAI/B,EAAKpC,SAAS,CAACxB,KAAM2D,K,EAyB3BG,aAAe,SAACb,EAAOC,GAErBvF,IAAMoG,SAASC,QAAQC,OAAOC,cAA9B,iBAAwDjB,GAExD,EAAKzB,SAAS,CAAE0B,SAEhB3C,aAAagD,QAAS,QAASN,GAE/B1C,aAAagD,QAAS,OAAQC,KAAKC,UAAUP,K,EAG7CiB,cAAgB,SAAExB,GAChBA,EAAME,wBACClF,IAAMoG,SAASC,QAAQC,OAAOC,cAGrC3D,aAAaZ,WAAW,SACxBY,aAAaZ,WAAW,QAExB,EAAK6B,SAAS,CAAE0B,KAAM,M,kEAtCxB,IAAMD,EAAQ1C,aAAa6D,QAAQ,SAC7BlB,EAAO3C,aAAa6D,QAAQ,QAIpB,OAAVnB,GAA2B,OAATC,IACpBnD,KAAKyB,SAAS,CAAE0B,KAAMM,KAAKa,MAAMnB,KACjCvF,IAAMoG,SAASC,QAAQC,OAAOC,cAA9B,iBAAwDjB,IAI1D,IAAMjD,EAAOO,aAAa6D,QAAS,QACtB,OAATpE,GAEFD,KAAKyB,SAAS,CAACxB,KAAMwD,KAAKa,MAAMrE,O,+BA2B1B,IAAD,OACP,OAEE,kBAAC,IAAD,KACE,6BACE,kBAAC,IAAD,CAAOsE,KAAK,IAAIC,OAAQ,SAAClH,GAAD,OAAW,kBAAC,EAAD,iBAAYA,EAAZ,CAAmB8B,SAAU,EAAKgF,cAAepF,YAAa,EAAKgC,MAAMmC,KAAM5D,UAAW,EAAKyB,MAAMzB,gBAIxI,kBAAC,IAAD,CAAOkF,OAAK,EAACF,KAAK,SAASC,OAAQ,SAAClH,GAAD,OAAW,kBAAC,EAAD,iBAAWA,EAAX,CAAkB2F,QAAS,EAAKc,mBAC9E,0BAAM/F,UAAU,QAChB,6BAEE,8BAEA,yBAAKA,UAAU,WACb,kBAAC,IAAD,CAAOyG,OAAK,EAACF,KAAK,IAAIG,UAAWrH,IAEjC,kBAAC,IAAD,CAAOoH,OAAK,EAACF,KAAK,gBAAgBC,OAAQ,SAAClH,GAAD,OACxC,kBAAC,EAAD,iBACIA,EADJ,CAEA8D,YAAa,EAAKD,UAClBlB,KAAM,EAAKe,MAAMf,WAIvB,kBAAC,IAAD,CAAOwE,OAAK,EAACF,KAAK,QAAQC,OAAQ,SAAClH,GAAD,OAAW,kBAAC,EAAD,iBAAUA,EAAV,CAAiB2C,KAAM,EAAKe,MAAMf,KAAML,WAAY,EAAKA,iBACtG,kBAAC,IAAD,CAAO2E,KAAK,YAAYG,UAAWrC,MAGnC,4BAAQrE,UAAU,UAAlB,4E,GA/GQ4C,IAAMC,WCFJ8D,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASzD,MACvB,2DCZN0D,IAASP,OACP,kBAAC,IAAMQ,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB7D,MAAK,SAAA8D,GACJA,EAAaC,gBAEd7D,OAAM,SAAA0B,GACL9C,QAAQ8C,MAAMA,EAAMoC,c","file":"static/js/main.2eeae440.chunk.js","sourcesContent":["let BASE_URL;\n\nif(!process.env.NODE_ENV || process.env.NODE_ENV === 'development'){\n  BASE_URL = 'http://localhost:1337' // \n} else {\n  BASE_URL = 'https://node-ecommerce-backend.herokuapp.com' // \n} // if else\nmodule.exports = {\n  PRODUCTS_URL: BASE_URL + '/products',\n  LOGIN_URL: BASE_URL + '/login'\n}","// initialise React and hooks methods i.e. useState, useEffect\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom'\nimport axios from 'axios';\nimport {PRODUCTS_URL} from '../constants'\nimport '../Products.css'\n\nfunction ProductIndex (props) {\n    // put the product and setProduct into useState\n    const [ products, setProduct ] = useState ([]);\n    \n    useEffect(() => {\n      const fetchProducts = async () => {\n        const { data } = await axios.get(PRODUCTS_URL)\n        // Set the data retrieved vai axios request into state in setProduct\n        setProduct(data);\n      }\n      fetchProducts(); \n      return () => {\n        // cleanup\n      }\n    }, [])\n\n    return <ul className=\"products\">\n    {\n      // Map through products in state, \n      products.map(product =>\n        //set key to something unique like productID to satisfy map function\n        <li key = { product._id }>\n          <div className=\"product\">\n            <Link to={`${/products/}${product._id}`}>\n              <img className=\"product-image\" src={product.image} alt={product.name} />\n            </Link>\n            <div className=\"product-name\">\n              <Link to={`${/products/}${product._id}`}>{product.name}</Link>\n            </div>\n            <div className=\"product-brand\">{product.brand}</div>\n            <div className=\"product-price\">${product.price}</div>\n            <div className=\"product-rating\">{product.rating} Stars({product.numReviews} Reviews)</div>\n          </div>\n        </li>)\n    }\n  </ul>\n    \n}\n\nexport default ProductIndex;","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport \"../Header.css\"\n// import SearchIcon from \"@material-ui/icons/Search\"\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\"\n\nfunction Header(props) {\n\n    return (\n\n        <nav className=\"header\">\n\n            <Link to=\"/\" >\n                <img className=\"header_logo\" src=\"images/logo.svg\" alt=\"shopping cart logo\"/>\n            </Link>\n            <div>\n                <h5>WeShop</h5>\n\n            </div>\n            <div className=\"header_nav\">\n                \n                {  // use ternary to show links depending on whether user logged in\n                 props.currentUser.name !== undefined  \n                 ? \n                 ( \n                  <span>\n                    <span>Hello, {props.currentUser.name } </span>\n\n                    {/* perform logout function on click and redirect to login page */}\n                    <a href=\"#\" onClick={(e) => {props.onLogout(e); props.history.push('/login')} }>Logout </a>\n                  </span>    \n                 ) \n                 : \n                 (\n                    <Link to=\"/login\">\n                        <span>Sign in</span>\n                    </Link>\n                 )\n                }                       \n                <Link to=\"/cart\">\n                    <div className=\"header_optionBasket\"></div>\n                        {/* Shopping basket icon */}\n                        <ShoppingBasketIcon />\n                        {/* Number items in the basket */}\n                        <span className=\"header_basketCount\">{props.cartCount}</span>\n                </Link>\n            </div>\n            {/* TODO: basket icon with number badge */}\n        </nav>\n\n    )\n}\n\nexport default Header;","import React from 'react'\nimport '../Cart.css'\n\nfunction CartItem(props) {\n\n    return (\n        <div className=\"cartItem\">\n            {props.itemName}, x{props.itemQty}\n            <br />\n            <img src={props.itemImage} className=\"checkout-thumbnail\" alt=\"basket icon\" />\n            <button onClick={ () => props.removeItem(props.itemId)}>Remove item</button>\n        </div>\n    )\n}\n\nexport default CartItem\n","import React from \"react\"\nimport CartItem from './CartItem'\nimport { Link } from 'react-router-dom';\n\nclass Cart extends React.Component {\n\n    // TODO: cartUpdate function?\n    // TODO : add remove item from cart\n\n    \n    calculateGrandTotal() {\n        // Set a variable to start tracking the amount all the items are costing.\n        let grandTotal = 0\n        // Loop through the cart items and multiply the quantities of each item by their respective price.\n        this.props.cart.forEach(cartItem => {\n            grandTotal += cartItem.product.price * cartItem.qty\n        });\n        // Spit out the grand total, and add two decimal places.\n        return grandTotal.toFixed(2)\n    }\n    \n    clearCart() {\n        console.log('checking for cart items', this.props.cart);\n        localStorage.removeItem(\"cart\")\n        this.props.history.push('/')\n    }\n    \n\n    render() {\n        return (\n            <div>\n                <h5>Here's a detailed breakdown of your cart:</h5>\n                <div>\n                    {\n                        //use .map to go through the array of items in the cart and display to the user the name, qty of the item in the cart, and an image for the item.\n                        this.props.cart.map(c =>\n                            <CartItem\n                                itemName={c.product.name}\n                                itemId={c.product._id}\n                                itemQty={c.qty}\n                                itemImage={c.product.image}\n                                removeItem={this.props.removeItem}\n                            />\n                        ) \n                    }\n                    \n                    Grandtotal: ${this.calculateGrandTotal()}\n                    <br />\n                    <div className=\"button-group\">\n                        <Link to='/checkout'>\n                            <button className=\"button-primary\">Pay</button>\n                        </Link>\n                        <button className=\"button-danger\" onClick={() => this.clearCart() }>Clear cart</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default Cart","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../ProductDetails.css\";\nimport axios from \"axios\";\nimport {PRODUCTS_URL} from '../constants'\n\nlet cartQty = 0;\n\nclass ProductDetails extends React.Component {\n    state = {\n        data: {\n            name: \"\",\n            category: \"\",\n            image: \"\",\n            price: \"\",\n            brand: \"\",\n            rating: \"\",\n            numReviews: \"\",\n            description: \"\"\n        },\n        qty: 1\n    }; // state\n\n    componentDidMount() {\n        axios\n            .get(`${PRODUCTS_URL}/${this.props.match.params.id}`)\n            .then(data => {\n                console.log(data);\n                this.setState({ data: data.data });\n            })\n            .catch(err => console.log(err));\n    } // componentDidMount\n\n    addToCart = () => {\n        // console.log('button clicked : contents')\n        // On button click, adds the item from the product details page and passes the ID passed from the parent component App.js\n        this.props.onAddToCart(this.state.data, this.state.qty)\n    }\n\n    checkCart() {\n        // console.log('check cart!!');\n        const productId = this.props.match.params.id\n        this.props.cart.forEach(cartProduct => {\n            // check productId's value of each obj against current id in state\n            console.log(\"product being compared:\", cartProduct);\n            if (cartProduct.productId === productId) {\n                cartQty += cartProduct.qty;\n            }\n        });\n    }\n\n    cartClick() {\n        this.addToCart();\n        this.checkCart();\n    }\n\n    render() {\n\n        return (\n            <div className=\"details\">\n                <div className=\"back\">\n                    <Link to=\"/\">Back</Link>\n                </div>\n                <div className=\"details\">\n                    <div className=\"details-image\">\n                        <img src={this.state.data.image} alt={this.state.data.name} />\n                    </div>\n                    <div className=\"details-info\">\n                        <ul>\n                            <li>\n                                <h4>{this.state.data.name}</h4>\n                            </li>\n                            <li>\n                                {this.state.data.rating} Stars ({this.state.data.numReviews}{\" \"}\n                Reviews )\n              </li>\n                            <li>\n                                <strong>Price: ${this.state.data.price} </strong>\n                            </li>\n                            <li>\n                                <p>Description:</p>\n                                {this.state.data.description}\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div className=\"details-action\">\n                    {cartQty > 0 && <div>You have this amount in cart....{cartQty}</div>}\n                    <ul>\n                        <li>\n                            Price: <strong>${this.state.data.price}</strong>\n                        </li>\n                        <li>Status: {this.state.data.status}</li>\n                        <li>\n                            {/* when button clicked, uses event to save quantity into state */}\n              Qty:{\" \"}\n                            <select\n                                onChange={e => this.setState({ qty: parseInt(e.target.value) })}\n                            >\n                                <option>1</option>\n                                <option>2</option>\n                                <option>3</option>\n                                <option>4</option>\n                                <option>5</option>\n                            </select>\n                        </li>\n                        <li>\n                            {/* gives name of the function to run later on time of click */}\n                            <button className=\"button\" onClick={() => this.cartClick()}>\n                                Add to cart\n              </button>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n} // ProductDetails class\n\nexport default ProductDetails;\n","import React from 'react'\nimport '../Checkout.css'\n\nfunction Checkout() {\n    return (\n        <div className=\"paymentContainer\">\n            <h5>So happy you're buying from us! Please pop your personal details in below:</h5>\n            <form className=\"paymentform\">\n                <div className=\"formGroup\">\n                    <input type=\"text\" placeholder=\"Name\" />\n                    <input type=\"text\" placeholder=\"Address Line 1\" />\n                    <input type=\"text\" placeholder=\"Address Line 2\" />\n                </div>\n                <h5>Aaaand your credit card digits:</h5>\n                <div className=\"formGroup\">\n                    <input type=\"text\" placeholder=\"account holder\" />\n                    <input type=\"text\" placeholder=\"account holder\" />\n                    <input type=\"text\" placeholder=\"account holder\" />\n                </div>\n\n            </form>\n        </div>\n    )\n}\n\nexport default Checkout\n","import React from 'react'\nimport '../Login.css';\nimport axios from 'axios';\nimport {LOGIN_URL} from '../constants'\nimport '../Checkout.css'\n\nclass Login extends React.Component {\n    // login state \n\n    state = {\n        email: 'robbie@ga.co',\n        password: 'chicken',\n    };\n\n    // Store the information entered into the fields in the form as soon as there is a change by listening for event / moment something entered in the form\n    handleChange = (event) => {\n        this.setState({\n            // it differentiates between the email/password inputs using the ‘name’ value in the form input element, then assigns it a value to be stored in state\n            [event.target.name]:event.target.value\n        })\n    }\n    \n    handleSubmit = (event) => {\n        event.preventDefault();\n        // HandleSubmit posts the login details entered in the form to the backend using axios post request.\n        axios.post(  LOGIN_URL, { \n            email: this.state.email,\n            password: this.state.password\n        })\n        .then(res => {\n        // Sets token and user app props to the token and user object received from backend.\n            this.props.onLogin(res.data.token, res.data.user)\n        // Redirects user to productIndex page.\n            this.props.history.push('/')\n        })\n        .catch(error => {\n            // tODO: what if user provided incorrect dtes/-=-.> need to show error message: put \n            console.log('Authentication error: incorrect username or password. ', error)\n        })\n        \n    }\n\n    render(){\n        return (\n            <div className=\"login\">\n            <div className='login_container'>\n                <h1>Please sign in </h1>\n\n                <form onSubmit={this.handleSubmit} className=\"formGroup\">\n                    <input \n                        type=\"text\" \n                        name=\"email\"\n                        placeholder = \"Email\"\n                        onChange={this.handleChange} \n                    />\n\n                    <input \n                        type=\"password\"\n                        name=\"password\"\n                        placeholder = \"Password\"\n                        onChange={this.handleChange} \n                    />\n\n                    <div>\n                        <button className=\"button-primary\">Sign in</button>\n                        <p>OR:</p>\n                        <button className=\"button-primary\">Use default login credentials</button>\n\n\n                    </div>\n\n                    <div>\n                    <br />\n                </div>\n                </form>\n\n            </div>\n        </div>\n        ); // return\n    } // render\n\n} // Class login\n\n\nexport default Login\n","import React from 'react';\nimport './App.css';\nimport './Footer.css';\nimport { Route, HashRouter as Router } from 'react-router-dom';\n\n// import website components\nimport ProductIndex from './components/ProductIndex'\nimport Header from './components/Header'\nimport Cart from './components/Cart'\nimport ProductDetails from './components/ProductDetails'\nimport Checkout from './components/Checkout'\nimport Login from './components/Login'\nimport axios from 'axios'\n\nclass App extends React.Component {\n  state = {\n    user: {},\n    cart: [],\n    cartCount: 0,\n  }\n  \n  addToCart = (product, qty) => {\n    // console.log('in add to cart: ', product, qty )\n    \n    // Set a variable that keeps an updated version of the cart i.e. \n    ///'...'retains what is already in cart\n    const newCart = [ ...this.state.cart, {product, qty } ];\n    // console.log('quantities' , this.state.cartCount, qty)\n    // Put what is in the cart in state. \n    this.setState({ cart: newCart, cartCount: this.state.cartCount + qty })\n    localStorage.setItem('cart', JSON.stringify(newCart))\n  }\n\n  removeItem = (removeId) => {// Here the Id of the item to be removed is passed in     \n        console.log(removeId);\n    // Here we make a copy of the cart's current state\n        const cartCopy = [...this.state.cart];\n    // Loop through the cart's current state, passing in the product to be deleted and the index of the item \n        this.state.cart.forEach( (cartProduct, index) => {\n            console.log('product ebeing compared', cartProduct);\n    // We compare the IDs of the cart products array and check for a match of the product ID being passed in\n            if (cartProduct.product._id === removeId) {\n                console.log('removed', cartProduct);\n    // We then use splice to first get the index of that product in the cart array and delete it from the caopy of the cart\n                cartCopy.splice(index, 1);\n            }\n        });\n    // And now the updated version of the copy we made of the cart is put into state\n        this.setState({cart: cartCopy})\n    }\n\n\n  componentDidMount() {\n    // Check if local storage token and user is set\n    const token = localStorage.getItem(\"token\")\n    const user = localStorage.getItem(\"user\")\n    // And if not null, set token into the axios header\n    // which will cause axios headers to be authenticated\n    // set user object into state.\n    if( token !== null && user !== null) {\n      this.setState({ user: JSON.parse(user)} );\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    }\n    // Load shopping cart from local storage if available\n    // if not null, assume ... (?)\n    const cart = localStorage.getItem( 'cart')\n    if (cart !== null) {\n      // JSON.parse gets the string back and turns into array of objects/\n      this.setState({cart: JSON.parse(cart)})\n    } \n  }\n\n  // passes as arguments token and user that backend sent\n  performLogin = (token, user) => {\n    // setting the axios header with the token sent by the backend\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    // store the current user into state as an object.\n    this.setState({ user })\n    // save the token into local storage for use by App.js and other components on site.\n    localStorage.setItem( 'token', token)\n    // local storage can only set strings, can't set complex items, so needs to have the JSON stringified.\n    localStorage.setItem( 'user', JSON.stringify(user) )\n  }\n\n    performLogout = ( event )=> {\n      event.preventDefault()\n      delete axios.defaults.headers.common.Authorization\n\n      // Remove the cart & users props stored in local storage.\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"user\")\n      // set the user state as empty object\n      this.setState({ user: {} })\n    } \n\n  render() {\n    return (\n      \n      <Router>\n        <div>\n          <Route path=\"/\" render={(props) => <Header {...props} onLogout={this.performLogout} currentUser={this.state.user} cartCount={this.state.cartCount}/>  } />\n          {/*        \n            Pass in ROUTER PROPS into the \n          */}\n          <Route exact path=\"/login\" render={(props) => <Login {...props} onLogin={this.performLogin} />  } />\n          <main className=\"main\">\n          <div>\n           \n            <br/> \n          </div>\n            <div className=\"content\">\n              <Route exact path=\"/\" component={ProductIndex} />\n              \n              <Route exact path=\"/products/:id\" render={(props) => \n                <ProductDetails \n                {...props} \n                onAddToCart={this.addToCart} \n                cart={this.state.cart}\n                />  \n              } \n              />\n          <Route exact path=\"/cart\" render={(props) => <Cart {...props} cart={this.state.cart} removeItem={this.removeItem} />  }  /> \n          <Route path=\"/checkout\" component={Checkout}/> \n            </div>\n          </main>\n          <footer className=\"footer\">\n            Final project at General Assembly - by Robert Paul - rob@glo.id.au\n          </footer>\n        </div>\n      </Router>\n\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}